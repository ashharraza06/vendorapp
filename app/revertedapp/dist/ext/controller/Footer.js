sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{submit:async function(e){debugger;var t=location.href;var a=t.match(/\('(\d+-\d+)'\)/)[1];var s=sap.ui.getCore().byId("revertedapp::complainsObjectPage--fe::CustomSubSection::Comments--ta").getValue();var o=sap.ui.getCore().byId("revertedapp::complainsObjectPage--fe::FormContainer::ComplaintDetails::FormElement::DataField::ccomplain_about::Field").getValue();var n=(new sap.ushell.services.UserInfo).getEmail();var r=JSON.stringify({complainno:a,comments:s,createdBy:n});let i="submitcomplaints";let l=this._view.getModel().bindContext(`/${i}(...)`);l.setParameter("data",r);l.setParameter("status",JSON.stringify({status:"postComment"}));var u=new sap.m.Dialog({title:"Submit",resizable:true,draggable:true,content:[new sap.m.Label({text:"Are you sure you want to submit for approval?"})],buttons:[new sap.m.Button({text:"Yes",press:async function(){debugger;await l.execute();var e="Submitted";let t="triggerProcess";let s=this.oView.getModel().bindContext(`/${t}(...)`);let n=JSON.stringify({complainno:a,cstatus:e});l.setParameter("data",n);l.setParameter("status",JSON.stringify({status:"revsubmitted"}));await l.execute();sap.m.MessageToast.show("Complain No "+a+" sent for re-approval");u.close();window.history.back();setTimeout(function(){location.reload()},1e3);var r=JSON.stringify({complainno:a,ccomplain_about:o});s.setParameter("data",r);s.setParameter("status",JSON.stringify({status:""}));await s.execute()}}),new sap.m.Button({text:"No",press:function(){u.close();sap.m.MessageToast.show("Cancelled")}})]}).addStyleClass("myCustomDialogClass");u.open()},cancel:function(){var t=new sap.m.Dialog({title:"Cancel",resizable:true,draggable:true,content:[new sap.m.Label({text:"Are you sure you want to cancel for approval?"})],buttons:[new sap.m.Button({text:"Yes",press:async function(){debugger;t.close();e.show("Cancelled");window.history.back()}}),new sap.m.Button({text:"No",press:function(){t.close()}})]}).addStyleClass("myCustomDialogClass");t.open()}}});